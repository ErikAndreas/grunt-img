#!/usr/bin/env node
var fs = require('fs'),
  join = require('path').join,
  help = join(__dirname, 'help.txt');

var cmds = process.argv.slice(2),
  opts = {};

// custom help, on `h5bp help`
if(cmds[0] === 'help') {
  if(cmds.length === 1) return fs.createReadStream(help).pipe(process.stdout);
  process.argv = process.argv.slice(0, 2).concat([cmds.join(':')]);
}

if(cmds[0] === '--version') {
  console.log('h5bp  v%s', require('../package.json').version);
  opts.version = true;
}

// the grunt cli
require('grunt').npmTasks(join(__dirname, '../')).cli(opts);
